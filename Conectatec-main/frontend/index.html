<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conectatec - Bolsa de Trabajo Técnica</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Montserrat:wght@500;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <script>
        // Verificar sesión, si no hay redirigir al login
        const session = JSON.parse(localStorage.getItem('usuarioConectatec'));
        const user = session && session.user;
        if (!user || !user.id) {
            window.location.href = "acceso.html";
        }
    </script>

    <header>
        <div class="container header-flex">
            <div class="logo-area">
                <img src="img/logoconectatec.png" alt="Logo Conectatec" class="logo-img">
                <span class="brand">Conectatec</span>
            </div>
            <nav>
                <a href="#" class="active">Inicio</a>
                <a href="#">Empresas</a>
                <a href="perfil.html">Mi perfil</a>
                <a href="#" class="logout-btn" onclick="logout()">Cerrar sesión</a>
            </nav>
        </div>
    </header>

    <main>
        <!-- LANDING -->
        <section class="landing">
            <div class="landing-content">
                <h1>Impulsa tu futuro técnico</h1>
                <p>Conectamos alumnos de escuelas técnicas con las mejores empresas para que su talento llegue más lejos.</p>
                <button class="primary-btn" onclick="showLogin()">Ingresar / Registrarse</button>
            </div>
            <img src="img/banner_conectatec.svg" alt="Banner Conectatec" class="landing-banner">
        </section>

        <!-- LOGIN MODAL -->
        <div id="loginModal" class="modal hidden">
            <div class="modal-content login-modal">
                <span class="close" onclick="hideLogin()">&times;</span>
                <h2>Iniciar sesión</h2>
                <form id="loginForm">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" required>
                    <label for="loginPassword">Contraseña</label>
                    <input type="password" id="loginPassword" required>
                    <button type="submit" class="primary-btn">Entrar</button>
                </form>
                <div id="loginMessage"></div>
            </div>
        </div>

        <!-- LISTADO DE ALUMNOS -->
        <section id="alumnosSection">
            <div class="alumnos-header">
                <h2>Alumnos en búsqueda laboral</h2>

                <!-- Nuevos filtros: Colegio y Centro -->
                <select id="filtroColegio">
                    <option value="">Todos los colegios</option>
                </select>
                <select id="filtroCentro">
                    <option value="">Todos los centros</option>
                </select>

                <!-- Búsqueda por nombre/carrera -->
                <input type="text" id="busquedaAlumno" placeholder="Buscar por nombre o carrera...">
            </div>
            <div id="alumnosGrid" class="alumnos-grid"></div>
        </section>

        <!-- MODAL PERFIL -->
        <div id="perfilModal" class="modal hidden">
            <div class="modal-content perfil-modal">
                <span class="close" onclick="hidePerfil()">&times;</span>
                <div id="perfilContent"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <span>&copy; 2024 Conectatec. Todos los derechos reservados.</span>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
